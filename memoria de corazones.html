<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Memoria GÃ³tico-Kawaii Escalable</title>

<!-- TipografÃ­a gÃ³tica -->
<link href="https://fonts.googleapis.com/css2?family=Armitage&display=swap" rel="stylesheet">

<style>
:root {
  --bg: #fec5e5;
  --accent: #de3163;
  --dark: #2b0f14;
}

body {
  margin: 0;
  padding: 0;
  background: var(--bg);
  font-family: 'Armitage', sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  min-height: 100vh;
  color: var(--dark);
  padding-top: 30px;
}

h1 {
  font-family: 'Armitage', sans-serif;
  color: var(--dark);
  text-shadow: 1px 1px var(--accent);
  margin-bottom: 20px;
}

.grid {
  display: grid;
  grid-gap: 15px;
  backdrop-filter: blur(3px);
  background: rgba(255,255,255,0.2);
  padding: 20px;
  border: 4px solid var(--dark);
  border-radius: 16px;
  box-shadow: 0 0 30px rgba(43,15,20,0.5), inset 0 0 60px rgba(43,15,20,0.3);
  margin-bottom: 20px;
}

.card {
  width: 80px;
  height: 80px;
  background-color: #fff0f5;
  border-radius: 15px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 40px;
  cursor: pointer;
  transition: transform 0.3s, box-shadow 0.3s;
  border: 2px solid var(--dark);
  box-shadow: 0 4px 6px rgba(0,0,0,0.4);
  position: relative;
}

.card:hover {
  transform: scale(1.05);
  box-shadow: 0 0 15px var(--accent);
}

.card.flipped {
  background-color: var(--accent);
  color: #fff;
  transform: rotateY(180deg) scale(1.05);
}

.card::after {
  content: 'ï½¡â—•â€¿â—•ï½¡';
  font-size: 12px;
  color: #fff;
  position: absolute;
  bottom: 5px;
  opacity: 0;
  transition: opacity 0.3s;
}

.card.flipped::after {
  opacity: 1;
}

button {
  margin: 5px;
  padding: 10px 18px;
  border: 3px solid var(--dark);
  background: linear-gradient(135deg, #ff7ca2, var(--accent));
  color: white;
  border-radius: 12px;
  font-family:'Armitage', sans-serif;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 4px 0 var(--dark);
  transition: transform 0.2s, filter 0.2s;
}

button:hover {
  transform: translateY(-3px) scale(1.05);
  filter: brightness(1.15);
}
</style>
</head>
<body>

<h1>Memoria GÃ³tico-Kawaii</h1>
<div class="grid" id="game-board"></div>
<div>
  <button id="shuffleBtn">Mezclar Piezas</button>
  <button id="nextLevelBtn">Siguiente Nivel</button>
</div>

<script>
let level = 1; // Nivel inicial
let maxPairs = 25;
let firstCard = null;
let secondCard = null;
let lockBoard = false;

const symbolsPool = ['â¤ï¸','ðŸ¦‡','ðŸ’–','ðŸŒ™','ðŸŒ¹','ðŸ–¤','ðŸ•·ï¸','ðŸ¦‰','ðŸ©¸','ðŸ”®','ðŸ—ï¸','ðŸ§›â€â™€ï¸','ðŸ§Ÿâ€â™€ï¸','ðŸ¦‰','ðŸ©°','âš°ï¸','ðŸ•¸ï¸','ðŸ©·','ðŸ–¤','ðŸ¦‡','ðŸŒŒ','ðŸ’€','ðŸ•¯ï¸','ðŸŒ¹','ðŸ–¤'];

const board = document.getElementById('game-board');
const shuffleBtn = document.getElementById('shuffleBtn');
const nextLevelBtn = document.getElementById('nextLevelBtn');

// Mezclar array
function shuffle(array) {
  for (let i = array.length -1; i>0; i--){
    const j = Math.floor(Math.random()*(i+1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// Inicializar nivel
function initLevel() {
  board.innerHTML = '';
  firstCard = null;
  secondCard = null;
  lockBoard = false;

  let pairs = Math.min(level + 2, maxPairs); // Aumenta pares cada nivel hasta 25
  let symbols = shuffle(symbolsPool).slice(0, pairs);
  let gameSymbols = shuffle([...symbols, ...symbols]); // duplicar para parejas

  // Ajustar columnas de grid segÃºn cantidad de pares
  let cols = Math.ceil(Math.sqrt(gameSymbols.length));
  board.style.gridTemplateColumns = `repeat(${cols}, 1fr)`;

  gameSymbols.forEach(symbol => {
    const card = document.createElement('div');
    card.classList.add('card');
    card.dataset.symbol = symbol;
    card.addEventListener('click', flipCard);
    board.appendChild(card);
  });
}

function flipCard() {
  if(lockBoard) return;
  if(this === firstCard) return;

  this.textContent = this.dataset.symbol;
  this.classList.add('flipped');

  if(!firstCard){
    firstCard = this;
    return;
  }

  secondCard = this;
  lockBoard = true;

  checkMatch();
}

function checkMatch() {
  if(firstCard.dataset.symbol === secondCard.dataset.symbol){
    firstCard.removeEventListener('click', flipCard);
    secondCard.removeEventListener('click', flipCard);
    resetBoard();
    checkLevelComplete();
  } else {
    setTimeout(() => {
      firstCard.textContent = '';
      secondCard.textContent = '';
      firstCard.classList.remove('flipped');
      secondCard.classList.remove('flipped');
      resetBoard();
    }, 1000);
  }
}

function resetBoard(){
  [firstCard, secondCard, lockBoard] = [null, null, false];
}

// Comprobar si terminÃ³ el nivel
function checkLevelComplete(){
  const remaining = Array.from(board.children).filter(c=>!c.classList.contains('flipped'));
  if(remaining.length === 0){
    alert(`Â¡Nivel ${level} completado! ðŸ’–`);
  }
}

shuffleBtn.addEventListener('click', () => {
  const cards = Array.from(board.children);
  shuffle(cards);
  cards.forEach(card => board.appendChild(card));
});

nextLevelBtn.addEventListener('click', () => {
  if(level < maxPairs){
    level++;
    initLevel();
  } else {
    alert("Â¡Has alcanzado el nivel mÃ¡ximo! ðŸ–¤");
  }
});

// Iniciar primer nivel
initLevel();
</script>

</body>
</html>

